# qTech User Management System

نظام إدارة المستخدمين بتقنية ASP.NET Core مع تخزين البيانات في ملفات JSON وواجهة مستخدم تفاعلية.

## المتطلبات

- .NET 8.0 SDK
- Visual Studio 2022 أو VS Code

## هيكل المشروع

### طبقات المشروع

```
qTech-custom-grid/
├── DAL/                          # طبقة الوصول للبيانات
│   ├── Models/                   # نماذج البيانات
│   ├── Data/                     # خدمة البيانات JSON
│   └── IRepos/                   # واجهات المستودعات
├── BLL/                          # طبقة منطق الأعمال
│   ├── Repos/                    # تنفيذ المستودعات
│   └── UnitOfWork.cs            # نمط وحدة العمل
└── qTech-custom-grid/           # طبقة العرض والتحكم
    ├── Controllers/              # متحكمات MVC
    ├── Views/                    # صفحات العرض
    ├── ViewModels/              # نماذج العرض
    ├── Services/                # خدمات منطق الأعمال
    ├── MappingProfiles/         # ملفات تعيين AutoMapper
    └── wwwroot/                 # الملفات الثابتة
```

## الميزات المنفذة

### 1. نموذج المستخدم (User Model)
- **الاسم الكامل**: 4 حقول نصية (الاسم الأول، اسم الأب، اسم الجد، لقب العائلة) - إجباري، حد أقصى 15 حرف لكل حقل
- **تاريخ الميلاد**: حقل تاريخ إجباري مع DatePicker
- **رقم الحساب البنكي**: حقل نصي إجباري، حد أقصى 30 حرف
- **رقم الهوية**: حقل رقمي إجباري، حد أقصى 10 أرقام، فريد
- **اسم البنك**: قائمة منسدلة اختيارية من قاعدة البيانات
- **الجنسية**: قائمة منسدلة إجبارية (سعودي/أجنبي)
- **رقم الجوال**: حقل رقمي إجباري، يبدأ بـ 9665، حد أقصى 12 رقم
- **الجنس**: أزرار اختيار إجبارية (ذكر/أنثى) - افتراضي: ذكر
- **البريد الإلكتروني**: حقل نصي اختياري، تحقق من صيغة الإيميل، حد أقصى 50 حرف
- **الحالة الاجتماعية**: قائمة منسدلة اختيارية من قاعدة البيانات
- **المؤهل الدراسي**: حقل نصي اختياري، حد أقصى 200 حرف
- **تاريخ التعيين**: حقل تاريخ إجباري، لا يقبل تواريخ مستقبلية
- **رصيد الإجازات**: حساب تلقائي بمعدل 21 يوم/سنة من تاريخ التعيين

### 2. الشبكة التفاعلية (Grid)
- عرض البيانات: رقم الهوية، اسم الموظف، رقم الجوال، الحالة الاجتماعية، الجنسية، البريد الإلكتروني
- البحث في الحقول: الاسم، رقم الجوال، رقم الهوية
- صناديق اختيار للتحديد المتعدد
- أزرار العمليات:
  - **عرض**: عرض تفاصيل المستخدم (يتفعل عند تحديد مستخدم واحد)
  - **تعديل**: تعديل بيانات المستخدم (يتفعل عند تحديد مستخدم واحد)
  - **حذف**: حذف المستخدمين المحددين مع رسالة تأكيد
  - **إضافة**: إضافة مستخدم جديد (مفعل دائماً)

### 3. التحقق من صحة البيانات
- تحقق من فرادة رقم الهوية
- تحقق من صيغة رقم الجوال (يبدأ بـ 9665)
- تحقق من صيغة البريد الإلكتروني
- تحقق من عدم كون تاريخ التعيين في المستقبل
- رسائل تحقق باللغة العربية

## كيفية التشغيل

### 1. تشغيل التطبيق
```bash
cd qTech-custom-grid
dotnet run
```

### 2. الوصول للتطبيق
افتح المتصفح وانتقل إلى: `http://localhost:5101`

## تخزين البيانات

يستخدم التطبيق ملف JSON لتخزين البيانات بدلاً من قاعدة البيانات:
- **موقع الملف**: `qTech-custom-grid/Data/data.json`
- **قابل للتعديل أثناء التشغيل**: نعم، يمكن تعديل البيانات مباشرة في الملف
- **الأمان**: العمليات آمنة ومحمية من التداخل (Thread-safe)

## التقنيات المستخدمة

- **ASP.NET Core 8.0**: إطار العمل الأساسي
- **System.Text.Json**: لمعالجة ملفات JSON
- **AutoMapper**: لتعيين الكائنات
- **Bootstrap 5**: لتصميم الواجهة
- **jQuery**: للتفاعل مع الواجهة
- **Font Awesome**: للأيقونات

## نمط التصميم المستخدم

- **Repository Pattern**: لفصل طبقة الوصول للبيانات
- **Unit of Work Pattern**: لإدارة المعاملات
- **Service Layer Pattern**: لمنطق الأعمال
- **MVC Pattern**: لهيكلة التطبيق
- **Dependency Injection**: لحقن التبعيات

## الملفات المهمة

- `DAL/Models/User.cs`: نموذج المستخدم
- `DAL/Data/JsonDataService.cs`: خدمة البيانات JSON
- `qTech-custom-grid/Data/data.json`: ملف البيانات الرئيسي
- `qTech-custom-grid/Controllers/UserController.cs`: متحكم المستخدمين
- `qTech-custom-grid/Views/User/Index.cshtml`: صفحة الشبكة الرئيسية
- `qTech-custom-grid/wwwroot/js/mValidation.js`: إطار العمل للتحقق من صحة البيانات
- `qTech-custom-grid/wwwroot/js/mGrid-1.0.js`: إطار العمل للشبكة التفاعلية
- `qTech-custom-grid/wwwroot/js/mScript.js`: أدوات معالجة DOM
- `qTech-custom-grid/Services/UserService.cs`: خدمة منطق الأعمال

## ملاحظات التطوير

- تم تطبيق جميع المتطلبات المحددة في المواصفات
- الكود موثق بالكامل باللغة الإنجليزية والعربية
- التطبيق يدعم العمليات غير المتزامنة (Async/Await)
- واجهة المستخدم متجاوبة ومتوافقة مع الأجهزة المختلفة
- تم تطبيق أفضل ممارسات الأمان والتحقق من البيانات
- **تم تحويل النظام من SQL Server إلى JSON**: البيانات الآن مخزنة في ملفات JSON قابلة للتعديل أثناء التشغيل

## المساهمة

هذا المشروع مطور كنموذج أولي بسيط وصغير الحجم كما هو مطلوب في المواصفات، ويدعم الآن تخزين البيانات في ملفات JSON للمرونة والسهولة.
